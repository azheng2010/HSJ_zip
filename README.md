# HSJ

#### 介绍
HSJ辅助工具
当前版本: 0.5.5

#### 软件架构
软件架构说明
![image](https://github.com/azheng2010/HSJ/blob/master/image/readme.png)
![image](https://gitee.com/wzh2018/HSJ/raw/master/image/readme.png)
#### 安装教程

1. 安装手机版python3运行环境Pydroid3，可参考简书  [[Pydroid3配置安装教程](https://www.jianshu.com/p/5d9abd6f1405)]
2. 设置Pydroid3，并安装必要的模块
3. 下载本脚本程序
    首次下载，可用一键下载程序脚本：
    wget https://gitee.com/wzh2018/HSJ/repository/archive/master.zip -O HSJ-master.zip && unzip -o HSJ-master.zip && rm HSJ-master.zip

    或者

    wget https://github.com/azheng2010/HSJ/archive/master.zip -O HSJ-master.zip && unzip -o HSJ-master.zip && rm HSJ-master.zip
4. 加载并运行脚本程序

#### 使用说明

1. 主机开启热点
2. pydroid3加载main.py脚本，运行
3. 考试机连接热点，并设置手动http代理
4. 正常考试即可

#### 参考资料

1. [Pydroid3配置安装教程](https://www.jianshu.com/p/5d9abd6f1405)
2. [MitmProxy的安装与使用](https://www.jianshu.com/p/7b0ea91c081c)
3. [辅助脚本使用说明](https://www.jianshu.com/p/87a6719f0545)
4. 新建 Pull Request

#### 版本更新日志

##### version 0.0.1 更新日期：2018-10-21
1. 实现基本功能，PC端本地查询题库
2. PC端简单UI界面

##### version 0.0.2 更新日期：2018-11-24
1. 转移到安卓移动端，适配Pydroid3环境
2. 使用中间人代理工具，抓取手机端信息，通过qid搜索实现答案自动匹配

##### version 0.0.3 更新日期：2018-11-27
1. 增加文字匹配答案功能（文本相似度）

##### version 0.0.4 更新日期：2018-12-04
1. 实现自动修改答案功能
2. 放弃PC端脚本开发工作

##### version 0.0.5 更新日期：2019-01-05
1. 增加设定正确率范围功能，实现机器答题与人工答题补充

##### version 0.0.7 更新日期：2019-01-07
1. HSJapp对提交数据加密，紧急增加人工答题模式，暂时放弃自动修改答案功能

##### version 0.0.8 更新日期：2019-01-09
1. HSJapp提交答案数据采用加密方式，脚本做相应升级，恢复自动修改答案功能

##### version 0.0.9 更新日期：2019-02-28
1. 全新改版HSJ辅助工具，功能模块化装配
2. 增加账号控制功能

##### version 0.1.0 更新日期：2019-03-31
1. 进行了一些调整，修复一些bug
2. 在Github上开源部署项目

##### version 0.1.1 更新日期：2019-04-02
1. 增加在线验证用户和有效期功能

##### version 0.1.2 更新日期：2019-04-13
1. 增加检查版本和更新脚本功能

##### version 0.1.3 更新日期：2019-04-15
1. 增加一键更新题库功能

##### version 0.1.4 更新日期：2019-04-28
1. HSJapp升级提交答案加密方式，脚本程序做相应升级，恢复修改答案功能
2. 调整登录和功能选择的顺序

##### version 0.1.5 更新日期：2019-04-28
1. 更改更新源为国内源
2. 调用地址进行加密处理

##### version 0.1.6 更新日期：2019-05-02
1. 修复国内源更新程序命名不一致的bug
2. 修复更新题库的功能

##### version 0.1.7 更新日期：2019-05-08
1. 修复连续多次使用崩溃的bug
2. 修复读取考题文件的bug
3. 优化了获取考试结果部分

##### version 0.1.8 更新日期：2019-05-11
1. 更新了使用说明文件
2. 增加了考题新增入题库的功能
3. 修复了脚本自我更新的bug
4. 优化了自有题库搜索模式

##### version 0.1.9 更新日期：2019-05-11
1. 优化了自有题库搜索模式,速度提高了80倍

##### version 0.2.0 更新日期：2019-05-12
1. 修复了国内源无法更新的问题

##### version 0.2.1 更新日期：2019-07-03
1. 升级了答案匹配功能触发开关

##### version 0.2.2 更新日期：2019-07-17
1. 新增了补充匹配答案的功能（预防措施）
2. 新增了异常退出重新进入后继续工作的功能（中断继续）

##### version 0.2.3 更新日期：2019-07-18
1. 修订了保存配置文件出错的bug

##### version 0.2.4 更新日期：2019-07-20
1. 新增了心跳线程，实现了匹配功能自动触发
2. 重新构建了脚本升级程序，实现py文件与conf目录更新并保留用户原有设置
3. 优化了考题增加到题库的功能，去掉了新题库

##### version 0.2.5 更新日期：2019-07-21
1. 优化了心跳线程，调整匹配功能自动触发为30秒
2. 修复了脚本异常崩溃后重启继续考试的功能
3. 无题库用户也可更新程序

##### version 0.2.6 更新日期：2019-08-10
1. 优化了用户提醒功能

##### version 0.2.7 更新日期：2019-08-13
1. 增加了首次运行异常检测功能

##### version 0.2.8 更新日期：2019-09-09
1. 优化了注册用户上传工具（自动修改日期时间字符串）

##### version 0.2.9 更新日期：2019-09-14
1. 调整了业务流程：先选择再验证后使用
2. 更换了邮件系统
3. 修改日志记录格式

##### version 0.3.0 更新日期：2019-09-17
1. 修改了txt文件命名规则

##### version 0.3.1 更新日期：2019-10-05
1. 修改了正常匹配中的逻辑错误bug
2. 新增邮件创建时间标签

##### version 0.3.2 更新日期：2019-10-07
1. 优化了更新程序模块(main.py也更新)
2. 新增首次运行提示最新版本信息

##### version 0.3.3 更新日期：2019-10-08
1. 优化了程序发布方式

##### version 0.3.4 更新日期：2019-10-12
1. 优化了匹配过程显示
2. 优化了题库更新方式

##### version 0.3.5 更新日期：2019-10-14
1. 增加了随堂练习和已考试卷的题库更新

##### version 0.3.6 更新日期：2019-10-26
1. 新增了升级版本自动保留主程序main.py数据功能

##### version 0.3.7 更新日期：2019-10-30
1. 关键性发布文件改成pyc格式，防止误修改
2. 升级程序部分也增加了更新pyc文件功能

##### version 0.3.8 更新日期：2019-11-07
1. 优化首次运行检查的流程
2. 优化检测更换手机的识别规则
3. 修复读取有效日期的识别错误

##### version 0.3.9 更新日期：2019-12-02
1. 新增数据抓包功能，方便开发
2. 新增脚本自动获取人工修正答案的功能

##### version 0.4.0 更新日期：2019-12-10
1. 修复脚本升级相关功能，升级文件列表挂网
2. 升级版本模块新增去除与pyc同名py文件功能

##### version 0.4.1 更新日期：2019-12-27
1. HSJ-app更改加密方式后的应急版本，取消了修改答案功能
2. 修改日志级别为info级别

##### version 0.4.2 更新日期：2020-01-09
1. 修改日志记录编码方式为utf-8
2. 修复考试时testunitid变成testUnitId后，无法获取examid导致无法获取考题的bug
3. 修正远程答案部分的显示
4. 将题库pinyin字段替换成answertip字段

##### version 0.4.3 更新日期：2020-01-22
1. 新增更新题库到网络数据库功能
2. 新增搜索网络数据库题库功能API接口
3. 新增api接口上传到服务器，暂保留七牛云上传

##### version 0.4.4 更新日期：2020-01-25
1. 新增自主导入文本题库的功能（去重：强制替换、保留原有 2种方式）
2. 网络数据库
3. 取消七牛云上传
4. 新增更新题库到网络数据库功能

##### version 0.4.5 更新日期：2020-02-22
1. 更新题库，新增4个选项
2. 网络数据库批量插入

##### version 0.4.6 更新日期：2020-02-29
1. 修正了无法获取考试题的bug
2. 修正了在未获取试卷情况下不能自己考试的bug
3. 优化了获取试卷的流程

##### version 0.4.7 更新日期：2020-03-17
1. 修正了获取试卷名称出错邮件发送失败的bug

##### version 0.4.8 更新日期：2020-04-08
1. 新增网络数据库搜索功能

##### version 0.4.9 更新日期：2020-04-09
1. 修复了考题选项过多导致下标越界的bug

##### version 0.5.0 更新日期：2020-04-10
1. 匹配过程增加异常处理功能，防止单个题匹配异常，导致整个匹配过程失败的情况

##### version 0.5.1 更新日期：2020-04-15
1. 修复了上次考试未提交或无考题情况下的下次考试不匹配的情况

##### version 0.5.2 更新日期：2020-04-24
1. 修复了未到考试时间情况下自动心跳匹配的bug
2. 优化了更新题库的显示界面，使用进度条方式
3. 增加txt题库上传的功能，为后期网络题库更新做准备

##### version 0.5.3 更新日期：2020-05-08
1. 修复了域名连接的错误，直接改成ip地址

##### version 0.5.4 更新日期：2020-09-07
1. 增加了匹配案例题的功能
2. 增加了管理员账号获取题库功能
3. 阿里云服务器2021年1月到期，考虑如何迁移到新服务器上去

##### version 0.5.5 更新日期：2021-02-20
1. 修复了迁移到新服务器上文件无法上传的问题
2. 增加通过文件控制上传网址的功能